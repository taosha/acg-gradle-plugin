buildscript {
    repositories {
        mavenCentral()
        maven {
            url 'http://maven.taosha.org'
        }
    }
    dependencies {
        classpath 'org.taosha.gradle:acg-gradle-plugin:0.1.+'
    }
}

file('gradle.d').list().each {
    it ==~ /.+\.gradle/ && apply(from: "gradle.d/$it")
}

apply plugin: 'java'
apply plugin: 'org.taosha.acg'

group = 'com.example'
version = '1.0'

acg {
    schemaDir 'src/main/acg'
    sourceDir 'build/generated/acg'
    customDir 'src/main/java'

    schemas {
        bookstore {
        }
    }
}

// Add generated files to source sets
sourceSets {
    main {
        java {
            srcDir acg.sourceDir
            srcDir acg.customDir
        }
    }
}

// Generate content provider before build
compileJava.dependsOn(generate)

repositories{
    mavenCentral()
}
dependencies {
    provided 'com.google.android:android:4.+'
}
